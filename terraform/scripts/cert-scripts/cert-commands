# read the output of a certificate
openssl x509 -in terraform/certs/fullchain.pem -text -noout
# read output of csr file
openssl req -text -in server.csr -noout

# Obtain a certificate from Google Trust Services:
1. Sign in to Google Domains.
2. Select the domain that you want a certificate for.
    At the top left, tap Menu Menu and then Security.
    Under section “SSL/TLS Certificates for your domain,” expand “Google Trust Services.”
    Click Get EAB Key.
    A dialog opens with 2 values, “EAB Key ID” and “EAB HMAC Key."
    Copy both of these values by tapping the Copy buttons next to each of them.  
    Use these 2 values to register an account with the Google Trust Services CA. Each ACME client implementation differs slightly on how you specify this EAB. Refer to the documentation for the ACME client that you’d like to use.
# Configuration with the popular Certbot ACME client.
To register an account:
3. certbot register --email <CONTACT_EMAIL> --no-eff-email --server "https://dv.acme-v02.api.pki.goog/directory"  --eab-kid "<EAB_KEY_ID>" --eab-hmac-key "<EAB_HMAC_KEY>"
4. After the account is created, you can issue certificates by running:
certbot certonly \
    --manual \
    --preferred-challenges "dns-01" \
    --server "https://dv.acme-v02.api.pki.goog/directory" \
    --domains "grascannabis.org"

note: this command generates the cert locally, the cert must be added and updated in the production environment!