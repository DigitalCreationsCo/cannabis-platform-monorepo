image: node:16

stages:
  - yarn-cache
  - node-modules

# adopt these good caching practices: https://docs.gitlab.com/ee/ci/caching/#good-caching-practices
yarn-cache:
  stage: yarn-cache
  script:
    - yarn --immutable
  cache:
    key:
      files:
        - yarn.lock
    paths:
      - .yarn/cache/
      - node_modules/